import{d as e,g as t,r as a,C as s,b as l,c as r,w as o,e as n,n as u,u as i,f as c,t as d,D as m,m as p,p as f,F as g,y,j as x,I as h,k as _,l as b,s as v,v as w,i as k,_ as D}from"./index-e41bb7b2.js";const C=D(e({__name:"index",setup(e){const{safeAreaInsets:D}=t(),C=a(!0),j=a(""),I=a("全部"),V=["全部","普通","稀有","超稀有","隐藏"],$={"普通":"bg-gray-200 text-gray-700","稀有":"bg-blue-200 text-blue-700","超稀有":"bg-purple-200 text-purple-700","隐藏":"bg-yellow-200 text-yellow-700"},L=a([{id:101,name:"紫悦",image:"https://picsum.photos/200/200?random=31",rarity:"普通",getDate:"2023-10-01"},{id:102,name:"云宝黛西",image:"https://picsum.photos/200/200?random=32",rarity:"稀有",getDate:"2023-10-02"},{id:103,name:"苹果嘉儿",image:"https://picsum.photos/200/200?random=33",rarity:"普通",getDate:"2023-10-03"},{id:104,name:"柔柔",image:"https://picsum.photos/200/200?random=34",rarity:"稀有",getDate:"2023-10-04"},{id:105,name:"珍奇",image:"https://picsum.photos/200/200?random=35",rarity:"超稀有",getDate:"2023-10-05"},{id:106,name:"隐藏款-星光熠熠",image:"https://picsum.photos/200/200?random=36",rarity:"隐藏",getDate:"2023-10-06"},{id:107,name:"碧琪",image:"https://picsum.photos/200/200?random=37",rarity:"普通",getDate:"2023-10-07"},{id:108,name:"宇宙公主",image:"https://picsum.photos/200/200?random=38",rarity:"超稀有",getDate:"2023-10-08"}]),T=s((()=>{const e={};for(const t of L.value)e[t.rarity]=(e[t.rarity]||0)+1;return e})),z=s((()=>L.value.filter((e=>{const t="全部"===I.value||e.rarity===I.value,a=e.name.toLowerCase().includes(j.value.toLowerCase());return t&&a})))),A=()=>{C.value=!C.value};return(e,t)=>{const a=x,s=h,L=w,F=k,U=_,q=b("layout-default-uni");return l(),r(q,null,{default:o((()=>[n(a,{class:"collection-container bg-gray-100 min-h-screen"},{default:o((()=>{var e,x;return[n(a,{class:"fixed top-0 left-0 right-0 z-10 bg-white",style:u({paddingTop:(null==(e=i(D))?void 0:e.top)+"px"})},{default:o((()=>[n(a,{class:"flex items-center justify-between px-4 py-3"},{default:o((()=>[n(a,{class:"text-lg font-bold"},{default:o((()=>[c("我的收藏")])),_:1}),n(a,{class:"text-sm text-gray-500",onClick:A},{default:o((()=>[c(d(i(C)?"列表模式":"网格模式"),1)])),_:1})])),_:1})])),_:1},8,["style"]),n(a,{style:u({paddingTop:(null==(x=i(D))?void 0:x.top)+52+"px"})},{default:o((()=>[n(a,{class:"p-4 bg-white"},{default:o((()=>[n(a,{class:"relative"},{default:o((()=>[n(s,{modelValue:i(j),"onUpdate:modelValue":t[0]||(t[0]=e=>m(j)?j.value=e:null),type:"text",placeholder:"搜索藏品名称",class:"w-full bg-gray-100 rounded-full py-2 pl-10 pr-4 text-sm"},null,8,["modelValue"]),n(a,{class:"absolute left-3 top-1/2 transform -translate-y-1/2 i-carbon-search text-gray-400"})])),_:1}),n(a,{class:"flex space-x-2 mt-3"},{default:o((()=>[(l(),p(g,null,f(V,(e=>n(L,{key:e,class:y(["px-3 py-1 text-xs rounded-full",i(I)===e?"bg-indigo-500 text-white":"bg-gray-200 text-gray-600"]),onClick:t=>(e=>{I.value=e})(e)},{default:o((()=>[c(d("全部"===e?e:`${e} (${i(T)[e]||0})`),1)])),_:2},1032,["class","onClick"]))),64))])),_:1})])),_:1}),n(a,{class:"p-4"},{default:o((()=>[i(z).length>0?(l(),r(a,{key:0,class:y(i(C)?"grid grid-cols-2 gap-4":"space-y-3")},{default:o((()=>[(l(!0),p(g,null,f(i(z),(e=>(l(),r(a,{key:e.id,class:"bg-white rounded-xl shadow-sm overflow-hidden transform transition-transform hover:scale-105",onClick:t=>(e=>{v({title:`查看 ${e.name} 详情`,icon:"none"})})(e)},{default:o((()=>[i(C)?(l(),p(g,{key:0},[n(F,{src:e.image,class:"w-full h-40 object-cover"},null,8,["src"]),n(a,{class:"p-3"},{default:o((()=>[n(a,{class:"font-semibold text-sm truncate"},{default:o((()=>[c(d(e.name),1)])),_:2},1024),n(a,{class:"flex justify-between items-center mt-1"},{default:o((()=>[n(a,{class:y(["text-xs px-2 py-0.5 rounded-full",$[e.rarity]])},{default:o((()=>[c(d(e.rarity),1)])),_:2},1032,["class"]),n(a,{class:"text-xs text-gray-400"},{default:o((()=>[c("#"+d(e.id),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)],64)):(l(),r(a,{key:1,class:"flex items-center p-3"},{default:o((()=>[n(F,{src:e.image,class:"w-20 h-20 rounded-lg object-cover mr-4"},null,8,["src"]),n(a,{class:"flex-1"},{default:o((()=>[n(a,{class:"font-semibold text-base"},{default:o((()=>[c(d(e.name),1)])),_:2},1024),n(a,{class:"text-sm text-gray-500 mt-1"},{default:o((()=>[c("获取时间: "+d(e.getDate),1)])),_:2},1024),n(a,{class:"flex items-center mt-2"},{default:o((()=>[n(a,{class:y(["text-xs px-2 py-0.5 rounded-full",$[e.rarity]])},{default:o((()=>[c(d(e.rarity),1)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1024),n(a,{class:"i-carbon-chevron-right text-gray-400"})])),_:2},1024))])),_:2},1032,["onClick"])))),128))])),_:1},8,["class"])):(l(),r(a,{key:1,class:"text-center py-20 text-gray-500"},{default:o((()=>[n(a,{class:"i-carbon-cube text-4xl mx-auto mb-4"}),n(U,null,{default:o((()=>[c("暂无藏品，快去开启盲盒吧！")])),_:1})])),_:1}))])),_:1})])),_:1},8,["style"])]})),_:1})])),_:1})}}}),[["__scopeId","data-v-c6e0caef"]]);export{C as default};
