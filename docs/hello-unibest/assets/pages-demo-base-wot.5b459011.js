var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(t,o,l)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[o]=l,u=(e,t)=>{for(var o in t||(t={}))a.call(t,o)&&n(e,o,t[o]);if(l)for(var o of l(t))s.call(t,o)&&n(e,o,t[o]);return e},c=(e,l)=>t(e,o(l));import{a5 as r,a7 as i,a8 as d,aD as p,d as m,r as f,aE as v,C as _,b as w,c as h,w as y,e as $,aF as x,n as b,Q as C,ai as k,q as g,i as O,j as S,_ as V,aG as j,aH as E,aI as A,aJ as P,aK as I,aL as Q,aM as M,aN as z,aO as F,y as L,f as X,t as Y,z as H,m as T,F as U,p as D,aP as G,u as N,H as q,k as B,aQ as K,aR as W,o as J,D as R,M as Z,N as ee,l as te,X as oe}from"./index-e41bb7b2.js";const le=c(u({},r),{value:i(!1),modelValue:i(!1),closePosition:d("inset"),src:String,to:String,width:Number,closeOnClickModal:i(!1),hideWhenClose:i(!0),zIndex:p(10),customCloseClass:d(""),customCloseStyle:d("")}),ae=V(m(c(u({},{name:"wd-curtain",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:le,emits:["beforeenter","enter","afterenter","beforeleave","leave","afterleave","close","closed","click-modal","load","error","click","update:modelValue"],setup(e,{emit:t}){const o=e,l=t,a=f(o.modelValue||o.value);v((()=>o.modelValue),(e=>{a.value=e})),v((()=>o.value),(e=>{a.value=e})),v(a,(e=>{l("update:modelValue",e),e||l("close")}));const s=f(!0),n=f(1),u=_((()=>{let e="";return o.width&&(e+=`width: ${o.width}px ;`,e+=`height: ${o.width/n.value}px`),e}));function c(){l("beforeenter")}function r(){l("enter")}function i(){l("afterenter")}function d(){l("beforeleave")}function p(){l("leave")}function m(){l("afterleave"),l("closed")}function V(){a.value=!1}function j(){l("click-modal")}function E(e){const{height:t,width:o}=e.detail;n.value=o/t,s.value=!0,l("load")}function A(){s.value=!1,l("error")}function P(){o.to&&g({url:o.to}),l("click"),V()}return(e,t)=>{const o=O,l=S;return w(),h(l,{class:"wd-curtain-wrapper"},{default:y((()=>[$(x,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),transition:"zoom-in",position:"center","close-on-click-modal":e.closeOnClickModal,"hide-when-close":e.hideWhenClose,"z-index":e.zIndex,onBeforeEnter:c,onEnter:r,onAfterEnter:i,onBeforeLeave:d,onLeave:p,onAfterLeave:m,onClose:V,onClickModal:j,"custom-class":`wd-curtain ${e.customClass}`,"custom-style":e.customStyle},{default:y((()=>[$(l,{class:"wd-curtain__content"},{default:y((()=>[$(o,{src:e.src,class:"wd-curtain__content-img",style:b(u.value),onClick:P,onError:A,onLoad:E},null,8,["src","style"]),C(e.$slots,"close",{},(()=>[$(k,{name:"close-outline","custom-class":`wd-curtain__content-close ${e.closePosition} ${e.customCloseClass}`,"custom-style":e.customCloseStyle,onClick:V},null,8,["custom-class","custom-style"])]),!0)])),_:3})])),_:3},8,["modelValue","close-on-click-modal","hide-when-close","z-index","custom-class","custom-style"])])),_:3})}}})),[["__scopeId","data-v-4a53e592"]]);let se=[];const ne="__QUEUE_KEY__";const ue=c(u({},r),{customArrow:d(""),customPop:d(""),visibleArrow:i(!0),content:[String,Object],placement:d("bottom"),offset:p(0),useContentSlot:i(!1),disabled:i(!1),showClose:i(!1),modelValue:i(!1),mode:d("normal")}),ce=V(m(c(u({},{name:"wd-popover",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:ue,emits:["update:modelValue","menuclick","change","open","close"],setup(e,{expose:t,emit:o}){const l=e,a=o,s=I(ne,null),n="popover",{proxy:u}=A(),c=function(e=!0){const{proxy:t}=A(),o=f(""),l=f(""),a=f(""),s=f(""),n=f(0),u=f(0),c=f(0),r=f(0),i=f(0),d=f(0),p=f(0);return{popStyle:o,arrowStyle:l,showStyle:a,arrowClass:s,init:function(e,o,l){if(o){const t=[`wd-${l}__arrow`,"bottom"===e||"bottom-start"===e||"bottom-end"===e?`wd-${l}__arrow-up`:"","left"===e||"left-start"===e||"left-end"===e?`wd-${l}__arrow-right`:"","right"===e||"right-start"===e||"right-end"===e?`wd-${l}__arrow-left`:"","top"===e||"top-start"===e||"top-end"===e?`wd-${l}__arrow-down`:""];s.value=t.join(" ")}j("#target",!1,t).then((e=>{e&&(c.value=e.left,r.value=e.bottom,i.value=e.width,d.value=e.height,p.value=e.top)})),j("#pos",!1,t).then((e=>{e&&(n.value=e.width,u.value=e.height)}))},control:function(t,a){const s=e?9:0,c=i.value/2,r=s+d.value+5,p=i.value+s+5,m=d.value/2;let f=0,v=0;Array.isArray(a)?(f=(c-17>0?0:c-25)+a[0],v=(m-17>0?0:m-25)+(a[1]?a[1]:a[0])):E(a)?(f=(c-17>0?0:c-25)+a.x,v=(m-17>0?0:m-25)+a.y):(f=(c-17>0?0:c-25)+a,v=(m-17>0?0:m-25)+a);const _=new Map([["top",[`left: ${c}px; bottom: ${r}px; transform: translateX(-50%);`,"left: 50%;"]],["top-start",[`left: ${f}px; bottom: ${r}px;`,`left: ${(n.value>=i.value?i.value/2:n.value-25)-f}px;`]],["top-end",[`right: ${f}px; bottom: ${r}px;`,`right: ${(n.value>=i.value?i.value/2:n.value-25)-f}px; transform: translateX(50%);`]],["bottom",[`left: ${c}px; top: ${r}px; transform: translateX(-50%);`,"left: 50%;"]],["bottom-start",[`left: ${f}px; top: ${r}px;`,`left: ${(n.value>=i.value?i.value/2:n.value-25)-f}px;`]],["bottom-end",[`right: ${f}px; top: ${r}px;`,`right: ${(n.value>=i.value?i.value/2:n.value-25)-f}px; transform: translateX(50%);`]],["left",[`right: ${p}px; top: ${m}px; transform: translateY(-50%);`,"top: 50%"]],["left-start",[`right: ${p}px; top: ${v}px;`,`top: ${(u.value>=d.value?d.value/2:u.value-20)-v}px;`]],["left-end",[`right: ${p}px; bottom: ${v}px;`,`bottom: ${(u.value>=d.value?d.value/2:u.value-20)-v}px; transform: translateY(50%);`]],["right",[`left: ${p}px; top: ${m}px; transform: translateY(-50%);`,"top: 50%"]],["right-start",[`left: ${p}px; top: ${v}px;`,`top: ${(u.value>=d.value?d.value/2:u.value-20)-v}px;`]],["right-end",[`left: ${p}px; bottom: ${v}px;`,`bottom: ${(u.value>=d.value?d.value/2:u.value-20)-v}px; transform: translateY(50%);`]]]);o.value=_.get(t)[0],l.value=_.get(t)[1]},noop:function(){}}}(l.visibleArrow),r=f(!1);function i(e){p(!1),a("menuclick",{item:l.content[e],index:e})}function d(){l.disabled||p(!r.value)}function p(e){r.value=e,a("update:modelValue",e)}return v((()=>l.content),(e=>{const{mode:t}=l;"normal"===t&&"string"!=typeof e||"menu"===t&&Q(e)})),v((()=>l.placement),(()=>{c.init(l.placement,l.visibleArrow,n)})),v((()=>l.modelValue),(e=>{r.value=e})),v((()=>r.value),(e=>{var t;e&&(c.control(l.placement,l.offset),s&&s.closeOther?s.closeOther(u):(t=u,se.forEach((e=>{e.$.uid!==t.$.uid&&e.$.exposed.close()})))),c.showStyle.value=e?"display: inline-block;":"display: none;",a("change",{show:e}),a(""+(e?"open":"close"))})),M((()=>{c.init(l.placement,l.visibleArrow,n)})),z((()=>{var e;s&&s.pushToQueue?s.pushToQueue(u):(e=u,se.push(e)),c.showStyle.value=r.value?"opacity: 1;":"opacity: 0;"})),F((()=>{var e;s&&s.removeFromQueue?s.removeFromQueue(u):(e=u,se=se.filter((t=>t.$.uid!==e.$.uid)))})),t({open:function(){p(!0)},close:function(){p(!1)}}),(e,t)=>{const o=S,a=B;return w(),h(o,{class:L(`wd-popover ${e.customClass}`),style:b(e.customStyle),id:"popover",onClick:q(N(c).noop,["stop"])},{default:y((()=>[$(o,{class:"wd-popover__pos wd-popover__hidden",id:"pos"},{default:y((()=>[$(o,{class:L(`wd-popover__container ${e.customPop}`)},{default:y((()=>[e.useContentSlot||"normal"!==e.mode?H("",!0):(w(),h(o,{key:0,class:"wd-popover__inner"},{default:y((()=>[X(Y(e.content),1)])),_:1})),e.useContentSlot||"menu"!==e.mode||"object"!=typeof e.content?H("",!0):(w(),h(o,{key:1,class:"wd-popover__menu"},{default:y((()=>[(w(!0),T(U,null,D(e.content,((e,t)=>(w(),h(o,{key:t,class:"wd-popover__menu-inner",onClick:e=>i(t)},{default:y((()=>[e.iconClass?(w(),h(k,{key:0,name:e.iconClass,"custom-class":"wd-popover__icon"},null,8,["name"])):H("",!0),$(a,null,{default:y((()=>[X(Y(e.content),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}))])),_:1},8,["class"])])),_:1}),$(G,{"custom-class":"wd-popover__pos","custom-style":N(c).popStyle.value,show:r.value,name:"fade",duration:200},{default:y((()=>[$(o,{class:L(`wd-popover__container ${e.customPop}`)},{default:y((()=>[l.visibleArrow?(w(),h(o,{key:0,class:L(`wd-popover__arrow ${N(c).arrowClass.value} ${e.customArrow}`),style:b(N(c).arrowStyle.value)},null,8,["class","style"])):H("",!0),e.useContentSlot||"normal"!==e.mode?H("",!0):(w(),h(o,{key:1,class:"wd-popover__inner"},{default:y((()=>[X(Y(e.content),1)])),_:1})),e.useContentSlot||"menu"!==e.mode?C(e.$slots,"content",{key:3},void 0,!0):(w(),h(o,{key:2,class:"wd-popover__menu"},{default:y((()=>[(w(!0),T(U,null,D(e.content,((e,t)=>(w(),h(o,{key:t,class:"wd-popover__menu-inner",onClick:e=>i(t),style:b(0===t?"border-top: none":"")},{default:y((()=>["object"==typeof e&&e.iconClass?(w(),h(k,{key:0,name:e.iconClass,"custom-class":"wd-popover__icon"},null,8,["name"])):H("",!0),$(o,{style:{display:"inline-block"}},{default:y((()=>[X(Y("object"==typeof e&&e.content?e.content:""),1)])),_:2},1024)])),_:2},1032,["onClick","style"])))),128))])),_:1}))])),_:3},8,["class"]),e.showClose?(w(),h(k,{key:0,name:"close","custom-class":"wd-popover__close-icon",onClick:d})):H("",!0)])),_:3},8,["custom-style","show"]),$(o,{onClick:d,class:"wd-popover__target",id:"target"},{default:y((()=>[C(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["class","style","onClick"])}}})),[["__scopeId","data-v-db045d48"]]),re=V(m({__name:"wot",setup(e){const{closeOutside:t}=function(){const e=f([]);function t(t){e.value.forEach((e=>{e.$.uid!==t.$.uid&&e.$.exposed.close()}))}function o(){e.value.forEach((e=>{e.$.exposed.close()}))}return P(ne,{queue:e,pushToQueue:function(t){e.value.push(t)},removeFromQueue:function(t){e.value=e.value.filter((e=>e.$.uid!==t.$.uid))},closeOther:t,closeOutside:o}),{closeOther:t,closeOutside:o}}(),o=K(),l=W(),a=f(!1);function s({show:e}){}const n=()=>{o.show("显示隐藏切换")},u=()=>{l.success("unibest 你值得拥有")},c=f(!1);function r(){c.value=!0}function i(){c.value=!1}const d=f("add-circle");return J((()=>{setTimeout((()=>{d.value="check"}),1e3)})),(e,o)=>{const l=Z(ee("wd-button"),oe),p=S,m=Z(ee("wd-curtain"),ae),f=Z(ee("wd-icon"),k),v=Z(ee("wd-popover"),ce),_=te("layout-demo-uni");return w(),h(_,null,{default:y((()=>[$(p,{class:"center pt-4 flex-col"},{default:y((()=>[$(l,null,{default:y((()=>[X("主要按钮")])),_:1}),$(l,{type:"success"},{default:y((()=>[X("成功按钮")])),_:1}),$(l,{type:"info"},{default:y((()=>[X("信息按钮")])),_:1}),$(l,{type:"warning"},{default:y((()=>[X("警告按钮")])),_:1}),$(l,{type:"error"},{default:y((()=>[X("危险按钮")])),_:1}),$(p,{class:"h-10"}),$(l,{onClick:r},{default:y((()=>[X("展示幕帘")])),_:1}),$(m,{value:N(c),width:300,src:"https://via.placeholder.com/400x200.png/3c9cff/fff",onClose:i},null,8,["value"]),$(p,{class:"mt-4"},{default:y((()=>[X(" 可以通过 unocss class 类改颜色，也可以通过 color 属性修改颜色，同时存在时以 color 为优先 ")])),_:1}),$(p,{class:"mt-4"},{default:y((()=>[X(" 可以通过 unocss class 类改颜色，也可以通过 color 属性修改颜色，同时存在时以 color 为优先 ")])),_:1}),$(p,{class:"flex m-4"},{default:y((()=>[$(f,{name:"add-circle"}),$(f,{name:"add-circle",color:"red"}),$(f,{class:"text-green",name:"add-circle"}),$(f,{class:"text-green",name:"add-circle",color:"red"}),$(f,{class:"text-green w-10 h-10",name:"add-circle",color:"red"}),$(f,{name:N(d)},null,8,["name"])])),_:1}),$(p,{onClick:N(t),class:"mt-4"},{default:y((()=>[$(v,{modelValue:N(a),"onUpdate:modelValue":o[0]||(o[0]=e=>R(a)?a.value=e:null),content:"popover content",onChange:s},{default:y((()=>[$(l,null,{default:y((()=>[X("点击展示")])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["onClick"]),$(p,{class:"mt-4"},{default:y((()=>[$(l,{onClick:n},{default:y((()=>[X("点击显示Modal")])),_:1}),$(l,{onClick:u},{default:y((()=>[X("点击显示toast")])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-70175c01"]]);export{re as default};
