var e,t,o,l,a=Object.defineProperty,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(e,t,o)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,u=(e,t)=>{for(var o in t||(t={}))r.call(t,o)&&i(e,o,t[o]);if(n)for(var o of n(t))s.call(t,o)&&i(e,o,t[o]);return e};import{_ as d,ak as c,al as p,b as m,c as f,n as _,j as y,M as h,N as v,w as g,e as b,f as w,t as C,y as x,O as S,x as B,q as k,d as $,J as O,Q as I,r as j,B as T,a as z,P,u as N,s as U,v as H,k as L}from"./index-f33fdfc7.js";import{a as R}from"./uv-icon.d08b856c.js";import{_ as q}from"./uv-popup.c94fad5b.js";const A=d({name:"uv-line",mixins:[c,p,{props:u({color:{type:String,default:"#d6d7d9"},length:{type:[String,Number],default:"100%"},direction:{type:String,default:"row"},hairline:{type:Boolean,default:!0},margin:{type:[String,Number],default:0},dashed:{type:Boolean,default:!1}},null==(t=null==(e=uni.$uv)?void 0:e.props)?void 0:t.line)}],computed:{lineStyle(){const e={};return e.margin=this.margin,"row"===this.direction?(e.borderBottomWidth="1px",e.borderBottomStyle=this.dashed?"dashed":"solid",e.width=this.$uv.addUnit(this.length),this.hairline&&(e.transform="scaleY(0.5)")):(e.borderLeftWidth="1px",e.borderLeftStyle=this.dashed?"dashed":"solid",e.height=this.$uv.addUnit(this.length),this.hairline&&(e.transform="scaleX(0.5)")),e.borderColor=this.color,this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))}}},[["render",function(e,t,o,l,a,n){const r=y;return m(),f(r,{class:"uv-line",style:_([n.lineStyle])},null,8,["style"])}],["__scopeId","data-v-bc4b6575"]]);const M=d({name:"uv-modal",mixins:[c,p,{props:u({title:{type:[String],default:""},content:{type:String,default:""},confirmText:{type:String,default:"确认"},cancelText:{type:String,default:"取消"},showConfirmButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!1},confirmColor:{type:String,default:"#2979ff"},cancelColor:{type:String,default:"#606266"},buttonReverse:{type:Boolean,default:!1},zoom:{type:Boolean,default:!0},zIndex:{type:[String,Number],default:10075},asyncClose:{type:Boolean,default:!1},closeOnClickOverlay:{type:Boolean,default:!0},negativeTop:{type:[String,Number],default:0},width:{type:[String,Number],default:"650rpx"},align:{type:String,default:"left"},textStyle:{type:[Object,String],default:""}},null==(l=null==(o=uni.$uv)?void 0:o.props)?void 0:l.modal)}],data:()=>({loading:!1}),computed:{nvueStyle:()=>({})},methods:{open(){this.$refs.modalPopup.open(),this.loading&&(this.loading=!1)},close(){this.$refs.modalPopup.close()},popupChange(e){e.show||this.$emit("close")},confirmHandler(){this.loading||this.$emit("confirm"),this.asyncClose?this.loading=!0:this.close()},cancelHandler(){this.$emit("cancel"),this.close()},closeLoading(){this.$nextTick((()=>{this.loading=!1}))}}},[["render",function(e,t,o,l,a,n){const r=k,s=y,i=h(v("uv-line"),A),u=h(v("uv-loading-icon"),R),d=h(v("uv-popup"),q);return m(),f(d,{ref:"modalPopup",mode:"center",zoom:e.zoom,zIndex:e.zIndex,customStyle:{borderRadius:"6px",overflow:"hidden",marginTop:`-${e.$uv.addUnit(e.negativeTop)}`},closeOnClickOverlay:e.closeOnClickOverlay,safeAreaInsetBottom:!1,duration:400,onChange:n.popupChange},{default:g((()=>[b(s,{class:"uv-modal",style:_({width:e.$uv.addUnit(e.width)})},{default:g((()=>[e.title?(m(),f(r,{key:0,class:"uv-modal__title"},{default:g((()=>[w(C(e.title),1)])),_:1})):x("",!0),b(s,{class:"uv-modal__content",style:_({paddingTop:(e.title?12:25)+"px"})},{default:g((()=>[S(e.$slots,"default",{},(()=>[b(r,{class:"uv-modal__content__text",style:_([{textAlign:e.align},n.nvueStyle,e.$uv.addStyle(e.textStyle)])},{default:g((()=>[w(C(e.content),1)])),_:1},8,["style"])]),!0)])),_:3},8,["style"]),S(e.$slots,"confirmButton",{},(()=>[b(i),e.showConfirmButton||e.showCancelButton?(m(),f(s,{key:0,class:"uv-modal__button-group",style:_({flexDirection:e.buttonReverse?"row-reverse":"row"})},{default:g((()=>[e.showCancelButton?(m(),f(s,{key:0,class:B(["uv-modal__button-group__wrapper uv-modal__button-group__wrapper--cancel",[e.showCancelButton&&!e.showConfirmButton&&"uv-modal__button-group__wrapper--only-cancel"]]),"hover-stay-time":150,"hover-class":"uv-modal__button-group__wrapper--hover",onClick:n.cancelHandler},{default:g((()=>[b(r,{class:"uv-modal__button-group__wrapper__text",style:_({color:e.cancelColor})},{default:g((()=>[w(C(e.cancelText),1)])),_:1},8,["style"])])),_:1},8,["class","onClick"])):x("",!0),e.showConfirmButton&&e.showCancelButton?(m(),f(i,{key:1,direction:"column"})):x("",!0),e.showConfirmButton?(m(),f(s,{key:2,class:B(["uv-modal__button-group__wrapper uv-modal__button-group__wrapper--confirm",[!e.showCancelButton&&e.showConfirmButton&&"uv-modal__button-group__wrapper--only-confirm"]]),"hover-stay-time":150,"hover-class":"uv-modal__button-group__wrapper--hover",onClick:n.confirmHandler},{default:g((()=>[a.loading?(m(),f(u,{key:0})):(m(),f(r,{key:1,class:"uv-modal__button-group__wrapper__text",style:_({color:e.confirmColor})},{default:g((()=>[w(C(e.confirmText),1)])),_:1},8,["style"]))])),_:1},8,["class","onClick"])):x("",!0)])),_:1},8,["style"])):x("",!0)]),!0)])),_:3},8,["style"])])),_:3},8,["zoom","zIndex","customStyle","closeOnClickOverlay","onChange"])}],["__scopeId","data-v-aec54582"]]),W=d($({__name:"login-model",setup(e){const t=O(),o=(I(),j()),l=T((()=>{I();return t.isLogined})),a=()=>{var e;t.setUserInfo({nickname:"菲鸽",avatar:"",token:"abcdef"}),n(),null==(e=o.value)||e.close()},n=()=>{var e;l.value?U({title:"点赞成功"}):null==(e=o.value)||e.open()};return z((e=>({title:"unibest 路由拦截、进入指定页面",desc:"unibest 演示示例",path:"pages/route-interceptor/index?name=feige&age=30&sex=male"}))),P((()=>({title:"自定义分享标题",query:"a=1&b=2"}))),(e,t)=>{const r=k,s=y,i=H,u=h(v("uv-modal"),M),d=L("layout-default-uni");return m(),f(d,null,{default:g((()=>[b(s,{class:"mt-8 text-center p-4"},{default:g((()=>[b(s,{class:"leading-10"},{default:g((()=>[w(" 用户是否已登录： "),b(r,null,{default:g((()=>[w(C(N(l)?"是":"否"),1)])),_:1})])),_:1}),b(s,null,{default:g((()=>[w("这里有一个按钮（比如点赞按钮），点击这个按钮需要先登录")])),_:1}),b(i,{type:"primary",onClick:n,class:"mt-4"},{default:g((()=>[w("点赞菲鸽")])),_:1}),b(u,{ref_key:"modal",ref:o,title:"登陆",content:"模拟登陆，点击确认按钮即可",onConfirm:a},null,512)])),_:1})])),_:1})}}}),[["__scopeId","data-v-5b30472b"]]);export{W as default};
