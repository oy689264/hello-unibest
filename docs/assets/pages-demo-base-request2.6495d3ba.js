import{r as a,o as e,d as t,b as l,c as s,w as d,e as u,f as n,H as r,t as c,u as o,h as i,F as f,j as _,M as m,N as y,V as x,y as p,m as g,_ as k,k as h}from"./index-f33fdfc7.js";import{g as v,p as b}from"./foo.b31a9fd1.js";import{u as C}from"./useUpload.a4f5ae63.js";import"./http.b0cf4f6b.js";function w(t,l={immediate:!0}){const s=a(!1),d=a(!1),u=a(l.initialData),n=()=>{return a=this,e=null,l=function*(){s.value=!0,t().then((a=>{u.value=a.data,d.value=!1})).catch((a=>{d.value=a})).finally((()=>{s.value=!1}))},new Promise(((t,s)=>{var d=a=>{try{n(l.next(a))}catch(e){s(e)}},u=a=>{try{n(l.throw(a))}catch(e){s(e)}},n=a=>a.done?t(a.value):Promise.resolve(a.value).then(d,u);n((l=l.apply(a,e)).next())}));var a,e,l};return e((()=>{l.immediate&&n()})),{loading:s,error:d,data:u,run:n}}const j=t({__name:"request",setup(e){const t=a("http://laf.run/signup?code=ohaOgIX"),p=void 0,{loading:g,error:k,data:h,run:b}=w((()=>v("菲鸽")),{initialData:p}),C=()=>{h.value=p};return(a,e)=>{const p=_,k=m(y("wd-button"),x);return l(),s(p,{class:"p-6 text-center"},{default:d((()=>[u(p,{class:"my-2"},{default:d((()=>[n("使用的是 laf 云后台")])),_:1}),u(p,{class:"text-green-400"},{default:d((()=>[n("我的推荐码，可以获得佣金")])),_:1}),u(p,{class:"my-2"},{default:d((()=>[r("a",{class:"my-2",href:o(t),target:"_blank"},c(o(t)),9,["href"])])),_:1}),u(k,{onClick:o(b),class:"my-6"},{default:d((()=>[n("发送请求")])),_:1},8,["onClick"]),u(p,{class:"h-12"},{default:d((()=>[o(g)?(l(),s(p,{key:0},{default:d((()=>[n("loading...")])),_:1})):(l(),i(f,{key:1},[u(p,{class:"text-xl"},{default:d((()=>[n("请求数据如下")])),_:1}),u(p,{class:"text-green leading-8"},{default:d((()=>[n(c(JSON.stringify(o(h))),1)])),_:1})],64))])),_:1}),u(k,{type:"error",onClick:C,class:"my-6",disabled:!o(h)},{default:d((()=>[n("重置数据")])),_:1},8,["disabled"])])),_:1})}}}),N=t({__name:"request2",setup(a){const{loading:e,error:t,data:r,run:p}=w((()=>v("菲鸽"))),{loading:g,error:k,data:h,run:C}=w((()=>b("菲鸽222"))),j=()=>{r.value=void 0,h.value=void 0},N=()=>{p(),C()};return(a,t)=>{const k=m(y("wd-button"),x),v=_;return l(),s(v,{class:"p-6 text-center"},{default:d((()=>[u(k,{onClick:o(p),class:"my-6"},{default:d((()=>[n("发送请求")])),_:1},8,["onClick"]),u(v,{class:"h-12"},{default:d((()=>[o(e)?(l(),s(v,{key:0},{default:d((()=>[n("loading...")])),_:1})):(l(),i(f,{key:1},[u(v,{class:"text-xl"},{default:d((()=>[n("请求数据如下")])),_:1}),u(v,{class:"text-green leading-8"},{default:d((()=>[n(c(JSON.stringify(o(r))),1)])),_:1})],64))])),_:1}),u(k,{onClick:o(C),class:"my-6"},{default:d((()=>[n("发送请求2")])),_:1},8,["onClick"]),u(v,{class:"h-12"},{default:d((()=>[o(g)?(l(),s(v,{key:0},{default:d((()=>[n("loading...")])),_:1})):(l(),i(f,{key:1},[u(v,{class:"text-xl"},{default:d((()=>[n("请求数据如下")])),_:1}),u(v,{class:"text-green leading-8"},{default:d((()=>[n(c(JSON.stringify(o(h))),1)])),_:1})],64))])),_:1}),u(k,{type:"error",onClick:j,class:"my-6",disabled:!o(r)||!o(h)},{default:d((()=>[n(" 重置数据 ")])),_:1},8,["disabled"]),u(k,{type:"success",onClick:N,class:"my-6 ml-2",disabled:!!o(r)||!!o(h)},{default:d((()=>[n(" 同时发送请求 ")])),_:1},8,["disabled"])])),_:1})}}}),O=k(t({__name:"upload",setup(a){const{loading:e,data:t,run:r}=C({user:"菲鸽"});return(a,k)=>{const h=m(y("wd-button"),x),v=_,b=g;return l(),s(v,{class:"p-4 text-center"},{default:d((()=>[u(h,{onClick:o(r)},{default:d((()=>[n("选择图片并上传")])),_:1},8,["onClick"]),o(e)?(l(),s(v,{key:0,class:"text-blue h-10"},{default:d((()=>[n("上传...")])),_:1})):(l(),i(f,{key:1},[u(v,{class:"m-2"},{default:d((()=>[n("上传后返回的接口数据：")])),_:1}),u(v,{class:"m-2"},{default:d((()=>[n(c(o(t)),1)])),_:1}),u(v,{class:"h-80 w-full"},{default:d((()=>[o(t)?(l(),s(b,{key:0,src:o(t)||o(t),mode:"scaleToFill"},null,8,["src"])):p("",!0)])),_:1})],64))])),_:1})}}}),[["__scopeId","data-v-8c65355d"]]),S=t({__name:"request2",setup:a=>(a,e)=>{const t=_,r=h("layout-demo-uni");return l(),s(r,null,{default:d((()=>[u(t,{class:"mt-6"},{default:d((()=>[u(t,{class:"text-2xl my-2 text-red-600"},{default:d((()=>[n("1-普通请求")])),_:1}),u(j),u(t,{class:"text-2xl my-2 text-red-600"},{default:d((()=>[n("2-上传图片")])),_:1}),u(O),u(t,{class:"text-2xl my-2 text-red-600"},{default:d((()=>[n("3-并发请求")])),_:1}),u(N)])),_:1})])),_:1})}});export{S as default};
